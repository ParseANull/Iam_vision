# ============================================================================
# IBM Security Verify API Configuration
# ============================================================================
# This file serves as a template for environment-specific configuration files.
# 
# SETUP INSTRUCTIONS:
# 1. Copy this file to .env.<environment> (e.g., .env.wiprt, .env.bidevt)
# 2. Fill in the credentials for your specific IBM Security Verify environment
# 3. NEVER commit .env.* files to version control (they contain secrets)
# 4. See environments.yml for list of all configured environments
#
# USAGE:
# Scripts automatically load the correct .env file based on --env parameter:
#   python scripts/fetch_applications.py --env wiprt
# ============================================================================

# ----------------------------------------------------------------------------
# IBM Security Verify Tenant Configuration
# ----------------------------------------------------------------------------

# IBM_VERIFY_TENANT_URL
# The base URL of your IBM Security Verify tenant
# Format: https://<tenant-name>.verify.ibm.com or https://<custom-domain>
# Example: https://miloginwi.michigan.gov
# Used for: All API requests are made to this base URL
IBM_VERIFY_TENANT_URL=

# ----------------------------------------------------------------------------
# OAuth 2.0 Client Credentials
# ----------------------------------------------------------------------------
# These credentials authenticate your application to the IBM Security Verify API
# Obtain from: IBM Security Verify Admin Console > Applications > API Client
# Grant Type: client_credentials (machine-to-machine authentication)
# Required Scopes: Depends on operations (users, groups, applications, etc.)

# IBM_VERIFY_CLIENT_ID
# The unique identifier for your API client application
# Format: UUID (e.g., 21edc9de-7de2-4117-92bc-4334b4e05668)
# Used for: OAuth token requests to identify your application
IBM_VERIFY_CLIENT_ID=

# IBM_VERIFY_CLIENT_SECRET
# The secret key for your API client application
# Format: Alphanumeric string (e.g., 9CiaT4fR5m)
# Security: Treat as a password - never share or commit to version control
# Used for: OAuth token requests to authenticate your application
IBM_VERIFY_CLIENT_SECRET=

# ----------------------------------------------------------------------------
# API Configuration
# ----------------------------------------------------------------------------

# IBM_VERIFY_API_VERSION
# The API version to use for requests
# Options: v1.0, v2.0
# Default: v2.0 (recommended - latest features and improvements)
# Used for: Constructing API endpoint URLs
# Note: Some endpoints only exist in specific versions (e.g., SCIM in v2.0)
IBM_VERIFY_API_VERSION=v2.0

# ----------------------------------------------------------------------------
# Request Timeout and Retry Configuration
# ----------------------------------------------------------------------------
# These settings control how the scripts handle network requests and failures

# REQUEST_TIMEOUT
# Maximum time (in seconds) to wait for an API response before timing out
# Default: 30 seconds
# Used for: All HTTP requests to prevent hanging on slow/failed connections
# Adjust: Increase for slow networks, decrease for faster failure detection
REQUEST_TIMEOUT=30

# MAX_RETRIES
# Number of times to retry a failed API request before giving up
# Default: 3 attempts (initial + 2 retries)
# Used for: Automatic retry on transient failures (network issues, 5xx errors)
# Note: Does not retry on authentication failures (401) or client errors (4xx)
MAX_RETRIES=3

# RETRY_BACKOFF
# Exponential backoff multiplier for retry delays (in seconds)
# Default: 2.0 (wait 2s, then 4s, then 8s between retries)
# Formula: wait_time = RETRY_BACKOFF ^ retry_attempt
# Used for: Spacing out retries to avoid overwhelming the API
# Adjust: Increase for rate-limited APIs, decrease for faster retries
RETRY_BACKOFF=2.0

# ----------------------------------------------------------------------------
# Pagination Configuration
# ----------------------------------------------------------------------------

# DEFAULT_PAGE_SIZE
# Number of records to fetch per API request
# Default: 100 records per page
# Valid Range: 1-1000 (API enforced maximum may be lower)
# Used for: All list/search operations (applications, users, groups, etc.)
# Adjust: Increase for fewer API calls, decrease for faster first results
# Note: Larger pages = fewer requests but longer response times
DEFAULT_PAGE_SIZE=100

# RATE_LIMIT_DELAY
# Delay (in seconds) between API requests to avoid rate limiting
# Default: 0.1 seconds (100ms)
# Used for: Detail fetch scripts that make many sequential requests
# Adjust: Increase if encountering 429 (Too Many Requests) errors
# Note: Only applies to scripts that fetch individual item details
RATE_LIMIT_DELAY=0.1

# ----------------------------------------------------------------------------
# Output Configuration
# ----------------------------------------------------------------------------

# OUTPUT_DIR
# Directory path where fetched data will be saved
# Default: data (relative to project root, creates data/<environment>/)
# Format: JSONL files (one JSON object per line)
# Structure: data/<environment>/<resource_type>.jsonl
# Examples:
#   data/wiprt/applications.jsonl
#   data/bidevt/users.jsonl
#   data/biqat/groups.jsonl
# Used for: All fetch scripts to determine where to save output files
OUTPUT_DIR=data
